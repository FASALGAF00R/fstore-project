<!DOCTYPE html>
<html lang="en">

<head>
	<title>wishlist</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
	<!-- login -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
	<!-- signup -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
	<!-- phone -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
	<!-- verifyotp -->

	<!-- sign in link for admin bootstrap -->


	<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="user/images/icons/favicon.png" />
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/bootstrap/css/bootstrap.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/fonts/iconic/css/material-design-iconic-font.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/fonts/linearicons-v1.0.0/icon-font.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/animate/animate.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/css-hamburgers/hamburgers.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/animsition/css/animsition.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/select2/select2.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/daterangepicker/daterangepicker.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/slick/slick.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/MagnificPopup/magnific-popup.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/vendor/perfect-scrollbar/perfect-scrollbar.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="user/css/util.css">
	<link rel="stylesheet" type="text/css" href="user/css/main.css">
	<!--===============================================================================================-->


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
		integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<style>
	table.table-bordered {
		border: 2px solid #191b1c;
	}

	table.table-bordered th,
	table.table-bordered td {
		border: 3px solid #585454;
		vertical-align: middle;
	}

	table thead {
		background-color: #f8f9fa;
	}
</style>



<body>



	<!-- Header -->
	<header>
		<!-- Header desktop -->
		<div class="container-menu-desktop fix-menu-desktop">
			<!-- Topbar -->
			<div class="top-bar">
				<div class="content-topbar flex-sb-m h-full container">
					<div class="left-top-bar">
						exclusive deals
					</div>

					<div class="right-top-bar flex-w h-full">
					</div>
				</div>

				<div class="wrap-menu-desktop" style="top: 40px;">
					<nav class="limiter-menu-desktop container">


						<!-- Logo desktop -->
						<a href="#" class="logo">
							<img src="user/images/icons/logo-01.png" alt="IMG-LOGO">
						</a>

						<!-- Menu desktop -->
						<div class="menu-desktop">
							<ul class="main-menu">
								<li>
									<a href="/home">Home</a>
								</li>

								<li>
									<a href="/shop">Shop</a>
								</li>

								<li>
									<a href="/cart">Cart</a>
								</li>

								<li>
									<a href="/order">Order</a>
								</li>

								<li>
									<a href="/about">About</a>
								</li>

								<li>
									<a href="/contact">Contact</a>
								</li>
								<% if (name) { %>
									<li>
										<a href="/userprofile">
											<i class="fas fa-user"></i>&nbsp;&nbsp;&nbsp;&nbsp;<%= name %>
										</a>
									</li>
									<% } else{ %>
										<li>
											<a href="/userprofile">
												<i class="fas fa-user"></i>
											</a>
										</li>

										<% } %>



							</ul>
						</div>

						<!-- Icon header -->
						<div class="wrap-icon-header flex-w flex-r-m">
							<% if (typeof isloggedin) { %>
								<li>
									<a href="/logout" style="color: #ff0000;">Logout</a>
								</li>
								<% } else { %>
									<li>
										<b>
											<a href="/login">
												<h5 style="color:rgb(99, 101, 110);"><B>Login</B></h5>
											</a>
										</b>
									</li>
									<% } %>
						</div>


						<div class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 js-show-modal-search">


						</div>



						<style>
							.icon-header-item:hover {
								text-decoration: none;
								cursor: default;
							}
						</style>

						<a href="/cart">
							<div class="icon-header-item cl2 p-r-11 p-l-10">
								<i class="zmdi zmdi-shopping-cart"></i>
							</div>
						</a>

						<a href="/wishlist" class="dis-block icon-header-item cl2 p-l-22 p-r-11">
							<i class="zmdi zmdi-favorite-outline"></i>
						</a>
				</div>
				</nav>
			</div>
		</div>



		<!-- Header Mobile -->
		<div class="wrap-header-mobile">
			<!-- Logo moblie -->
			<div>
				<a href="#" class="logo">
					<img src="user/images/icons/logo-01.png" alt="IMG-LOGO">
				</a>
			</div>


			<!-- Icon header -->
			<div class="wrap-icon-header flex-w flex-r-m m-r-15">


				<a href="/cart">
					<div class="icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10  ">
						<i class="zmdi zmdi-shopping-cart"></i>
					</div>
				</a>
				<a href="/wishlist" class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 ">
					<i class="zmdi zmdi-favorite-outline"></i>
				</a>
			</div>




			<!-- Button show menu -->
			<div class="btn-show-menu-mobile hamburger hamburger--squeeze">
				<span class="hamburger-box">
					<span class="hamburger-inner"></span>
				</span>
			</div>
		</div>


		<!-- Menu Mobile -->
		<div class="menu-mobile">


			<ul class="main-menu-m">
				<li>
					<a href="home">Home</a>
				</li>

				<li>
					<a href="/shop">Shop</a>
				</li>

				<li>
					<a href="/cart">Cart</a>
				</li>

				<li>
					<a href="/order">Order</a>
				</li>

				<li>
					<a href="/about">About</a>
				</li>

				<li>
					<a href="/contact">Contact</a>
				</li>
				<% if (name) { %>
					<li>
						<a href="/userprofile">
							<i class="fas fa-user"></i>&nbsp;&nbsp;&nbsp;&nbsp;<%= name %>
						</a>
					</li>
					<% } else{ %>
						<li>
							<a href="/userprofile">
								<i class="fas fa-user"></i>
							</a>
						</li>

						<% } %>


			</ul>
		</div>




	</header>





	<!-- ////////////////// -->
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>

	<section class="cart_area">
		<div class="container">
			<div class="cart_inner">
				<div class="table-responsive">
					<% if (typeof data2==='undefined' ) { %>
						<table class="table table-bordered" id="categorytable">
							<thead>
								<tr>
									<th scope="col">Product</th>
									<th scope="col">Name</th>
									<th scope="col">Remove</th>
									<th scope="col">Price</th>
								</tr>
							</thead>
							<tbody>
								<% data.forEach((product, index)=> { %>
									<tr>
										<td>
											<img width="100px" src="/productimages/<%= product.productId.image[0] %>"
												alt="">
										</td>
										<td>
											<%= product.productname %>
										</td>
										<td>
											<button class="btn btn-md" style="color: white; background-color: #d82a1d;"
												id="delete" onclick="deletewhishlist('<%= product.productId._id %>')">
												ðŸ—‘ Remove
											</button>

											<br><br>

											<button class="btn btn-md" style="color: white; background-color: #2a2626; "
												id="add" onclick="addcart('<%= product.productId._id %>')">
												ðŸ›’ Add to Cart
											</button>


										</td>
										<td>
											<h5>
												<%= product.price %> rs
											</h5>
										</td>
									</tr>
									<% }) %>

										<tr>
											<td colspan="2"></td>
											<td>
												<h5>Subtotal</h5>
											</td>
											<td>
												<h5>
													<% if (typeof total !=='undefined' ) { %>
														<%= total %> rs
															<% } else { %>
																$0
																<% } %>
												</h5>
											</td>
										</tr>

										<tr>
											<td colspan="2"></td>
											<td>
												<h5>Shipping</h5>
											</td>
											<td>Free</td>
										</tr>

										<tr>
											<td colspan="3"></td>
											<td>
												<div class="checkout_btn_inner d-flex align-items-center">
													<a href="/shop"
														class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04">
														â¬… Continue Shopping</a>
												</div>
											</td>
										</tr>
							</tbody>
						</table>
						<% } else { %>
							<div class="container-fluid ">
								<div class="row">
									<div class="col-md-12">
										<div class="card">
											<div class="card-body cart">
												<div class="col-sm-12 empty-cart-cls text-center">
													<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"
														fill="currentColor" class="bi bi-heart-fill"
														viewBox="0 0 16 16">
														<path fill-rule="evenodd"
															d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314" />
													</svg>
													<h3 style="color: #d82a1d;">Your wishlist is Empty</h3><br>
													<h4>Add items to it now</h4>
													<div class="d-flex justify-content-center">
														<a href="/shop" class="btn btn-dark cart-btn-transform m-3 "
															data-abc="true">continue
															shopping</a>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<% } %>
				</div>
			</div>
		</div>
	</section>




	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


	<br>
	<br>

	<script>
		const addcart = function (id) {
			console.log(id, "kk");

			$.ajax({
				url: "/addtocart",
				method: 'get',
				data: {
					id: id
				},
				success: function (response) {
					if (response.success) {
						swal('Saved cart!', 'You clicked the button!', 'success');
					} else {
						swal("Please login to your account");
					}

				}


			})
		}


		function deletewhishlist(id) {
			$.ajax({
				url: "/removewish",
				method: "post",
				data: {
					id: id
				}
			}).done((data) => {
				console.log(data, ";kkk");
				if (data.success === true) {
					swal("Removed!", "Item has been removed.", "success")
						.then(() => {
							window.location.reload();
						});
				}
			});
		}



	</script>
</body>

</html>


<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>


<%- include('../user/partials/footer.ejs') %>